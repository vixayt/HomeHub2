<h1>Weather forecast for {{ city }}</h1>
<form>
  City:
  <input
    type="text"
    [(ngModel)]="toSearch"
    [ngModelOptions]="{ standalone: true }"
  />
  <button (click)="getWeatherForecast()">Forecast</button>
</form>

<ng-container *ngIf="summary; else isSearching">
  <h3>
    Forecast:
  </h3>
  <span> {{ summary }}</span>
  <p *ngIf="todaysForecast">Current Temp: {{ todaysForecast.temperature }}</p>
  <p *ngIf="todaysForecast">
    Feels Like: {{ todaysForecast.apparentTemperature }}
  </p>
  <div class="weather-scroll">
    <div class="weather-card" *ngFor="let forecast of forecasts">
      <div *ngIf="isToday(forecast.time); else TodayBlock">
        <h3>
          Today
        </h3>
        <i [class]="weatherIcon(forecast.icon)" title="{{ forecast.icon }}"></i>
        <p>Low: {{ forecast.temperatureLow }}</p>
        <p>High: {{ forecast.temperatureHigh }}</p>
        <p>Summary: {{ forecast.summary }}</p>
      </div>
      <ng-template #TodayBlock>
        <h3>{{ getDay(forecast.time) }}</h3>
        <i [class]="weatherIcon(forecast.icon)" title="{{ forecast.icon }}"></i>
        <p>Low: {{ forecast.temperatureLow }}</p>
        <p>High: {{ forecast.temperatureHigh }}</p>
        <p>Summary: {{ forecast.summary }}</p>
      </ng-template>
    </div>
  </div>
</ng-container>

<ng-template #isSearching>
  <h3></h3>
  <mat-spinner> </mat-spinner>
</ng-template>
